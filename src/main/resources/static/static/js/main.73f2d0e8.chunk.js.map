{"version":3,"sources":["components/Header.js","components/PlanSelect.js","components/InputDDD.js","components/InputTime.js","components/CallCostCalculator.js","util/formatter.js","components/ShowCallCost.js","components/Message.js","components/App.js","index.js"],"names":["Header","className","PlanSelect","state","plans","selectedPlanId","onPlanSelect","event","planId","target","value","setState","props","axios","get","then","resp","data","length","id","catch","error","console","this","planOptions","map","plan","key","name","onChange","React","Component","InputDDD","onChangeDDD","onDDDChange","htmlFor","label","type","required","InputTime","onChangeTime","onTimeChange","CallCostCalculator","loading","onSubmit","onSubmitCallCostCalculator","onSourceDDDChange","onDestinationDDDChange","formatMoney","num","Number","toFixed","replace","ShowCallCost","costWithPlan","costWithoutPlan","Message","message","App","sourceDDD","destinationDDD","time","errorMessage","preventDefault","params","timeout","response","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.73f2d0e8.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Header.css';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <div className=\"fm-header\">\r\n            <h1 className=\"ui huge purple header\">\r\n                <i className=\"horizontally flipped phone icon\"></i>\r\n                <div className=\"content fm-header-title\">Fale Mais</div>\r\n            </h1>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nclass PlanSelect extends React.Component {\r\n    state = { plans: [], selectedPlanId: 0 };\r\n\r\n    onPlanSelect = (event) => {\r\n        const planId = event.target.value;\r\n        this.setState({ selectedPlanId: planId });\r\n        this.props.onPlanSelect(planId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/v1/phone-plans')\r\n            .then((resp) => {\r\n                const plans = resp.data;\r\n                this.setState({ plans });\r\n                if (plans.length > 0) {\r\n                    this.setState({ selectedPlanId: plans[0].id });\r\n                    this.props.onPlanSelect(plans[0].id);\r\n                }\r\n            })\r\n            .catch((error) => console.error(\"Error loading plans, error =\", error));\r\n    }\r\n\r\n    render() {\r\n        const plans = this.state.plans;\r\n        const planId = this.state.selectedPlanId;\r\n\r\n        let planOptions = <option>Carregando...</option>;\r\n        if (plans.length > 0) {\r\n            planOptions = plans.map((plan) => {\r\n                return <option key={plan.id} value={plan.id}>{plan.name}</option>;\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div className=\"eight wide field\">\r\n                <label>Plano:</label>\r\n                <select name=\"planId\" value={planId} onChange={this.onPlanSelect}>\r\n                    {planOptions}\r\n                </select>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default PlanSelect;\r\n","import React from 'react';\r\n\r\nclass InputDDD extends React.Component {\r\n    state = { value: '' };\r\n\r\n    onChangeDDD = (event) => {\r\n        const value = event.target.value;\r\n        this.setState({ value });\r\n        this.props.onDDDChange(value);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ui field\">\r\n                <label htmlFor={this.props.name}>{this.props.label}:</label>\r\n                <input type=\"text\" id={this.props.name} name={this.props.name} value={this.state.value} onChange={this.onChangeDDD} required />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default InputDDD;","import React from 'react';\r\n\r\nclass InputTime extends React.Component {\r\n    state = { value: '' };\r\n\r\n    onChangeTime = (event) => {\r\n        const value = event.target.value;\r\n        this.setState({ value });\r\n        this.props.onTimeChange(value);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ui field\">\r\n                <label htmlFor=\"time\">Tempo da ligação (minutos):</label>\r\n                <input type=\"text\" id=\"time\" name=\"time\" value={this.state.value} onChange={this.onChangeTime} required />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default InputTime;\r\n","import React from 'react';\r\nimport PlanSelect from './PlanSelect';\r\nimport InputDDD from './InputDDD';\r\nimport InputTime from './InputTime';\r\nimport './CallCostCalculator.css';\r\n\r\nconst CallCostCalculator = (props) => (\r\n    <div className=\"ui segment call-cost-calculator\">\r\n        <div className=\"ui attached message\">\r\n            <div className=\"header\">\r\n                Calcule o custo da ligação\r\n            </div>\r\n            <p>Escolha o plano, o DDD de origem e destino e o tempo da ligação para saber o custo</p>\r\n        </div>\r\n\r\n        <form className={'ui attached form segment' + (props.loading ? ' loading' : '')} onSubmit={props.onSubmitCallCostCalculator}>\r\n            <PlanSelect onPlanSelect={props.onPlanSelect} />\r\n            <div className=\"three fields\">\r\n                <InputDDD name=\"sourceDDD\" label=\"DDD Origem\" onDDDChange={props.onSourceDDDChange} />\r\n                <InputDDD name=\"destinationDDD\" label=\"DDD Destino\" onDDDChange={props.onDestinationDDDChange} />\r\n                <InputTime onTimeChange={props.onTimeChange} />\r\n            </div>\r\n            <input className=\"ui blue button\" type=\"submit\" value=\"Calcular\" />\r\n        </form>\r\n    </div>\r\n);\r\n\r\nexport default CallCostCalculator;","const formatMoney = (num) => {\r\n    if (num !== '') {\r\n        return 'R$ ' + Number(num).toFixed(2).replace('.', ',');\r\n    }\r\n    return num;\r\n}\r\n\r\nexport {\r\n    formatMoney\r\n}","import React from 'react';\r\nimport { formatMoney } from '../util/formatter';\r\n\r\nconst ShowCallCost = (props) => {\r\n    const costWithPlan = formatMoney(props.costWithPlan);\r\n    const costWithoutPlan = formatMoney(props.costWithoutPlan);\r\n\r\n    if (costWithPlan === '' && costWithoutPlan === '') {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"ui segment center aligned\">\r\n            <h2>Custo da Ligação</h2>\r\n            <div className=\"ui centered stackable grid\">\r\n                <div className=\"ui statistic six wide column\">\r\n                    <div className=\"value\">\r\n                        {costWithPlan}\r\n                    </div>\r\n                    <div className=\"label\">\r\n                        Com o plano FaleMais\r\n                    </div>\r\n                </div>\r\n                <div className=\"ui statistic six wide column\">\r\n                    <div className=\"value\">\r\n                        {costWithoutPlan}\r\n                    </div>\r\n                    <div className=\"label\">\r\n                        Sem o plano FaleMais\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShowCallCost;\r\n","import React from \"react\";\r\n\r\nconst Message = (props) => {\r\n    const message = props.message;\r\n\r\n    if (!message) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"ui negative message\">\r\n            {props.message}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport axios from 'axios';\r\nimport Header from './Header';\r\nimport CallCostCalculator from './CallCostCalculator';\r\nimport ShowCallCost from './ShowCallCost';\r\nimport Message from './Message';\r\n\r\nclass App extends React.Component {\r\n    state = {\r\n        planId: 0,\r\n        sourceDDD: '',\r\n        destinationDDD: '',\r\n        time: '',\r\n        costWithPlan: '',\r\n        costWithoutPlan: '',\r\n        loading: false,\r\n        errorMessage: ''\r\n    };\r\n\r\n    onPlanSelect = (planId) => {\r\n        this.setState({ planId });\r\n    }\r\n\r\n    onSourceDDDChange = (sourceDDD) => {\r\n        this.setState({ sourceDDD });\r\n    }\r\n\r\n    onDestinationDDDChange = (destinationDDD) => {\r\n        this.setState({ destinationDDD });\r\n    }\r\n\r\n    onTimeChange = (time) => {\r\n        this.setState({ time });\r\n    }\r\n\r\n    onSubmitCallCostCalculator = (event) => {\r\n        event.preventDefault();\r\n        this.setState({\r\n            costWithPlan: '',\r\n            costWithoutPlan: '',\r\n            loading: true,\r\n            errorMessage: ''\r\n        });\r\n\r\n        axios.get('/v1/phone-call/cost', {\r\n            params: {\r\n                planId: this.state.planId,\r\n                sourceDDD: this.state.sourceDDD,\r\n                destinationDDD: this.state.destinationDDD,\r\n                time: this.state.time\r\n            },\r\n            timeout: 500\r\n        })\r\n            .then((resp) => {\r\n                const { costWithPlan, costWithoutPlan } = resp.data;\r\n                this.setState({ costWithPlan, costWithoutPlan, loading: false });\r\n            })\r\n            .catch((error) => {\r\n                let errorMessage = 'Ocorreu um erro';\r\n                if (error.response) {\r\n                    errorMessage = error.response.data.message;\r\n                    console.error(error.response);\r\n                } else if (error.message) {\r\n                    errorMessage = error.message;\r\n                    console.error(error.message);\r\n                }\r\n                \r\n                this.setState({\r\n                    loading: false,\r\n                    errorMessage\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ui container\">\r\n                <Header />\r\n\r\n                <CallCostCalculator onPlanSelect={this.onPlanSelect}\r\n                    onSourceDDDChange={this.onSourceDDDChange}\r\n                    onTimeChange={this.onTimeChange}\r\n                    onDestinationDDDChange={this.onDestinationDDDChange}\r\n                    onSubmitCallCostCalculator={this.onSubmitCallCostCalculator}\r\n                    loading={this.state.loading} />\r\n\r\n                <ShowCallCost costWithPlan={this.state.costWithPlan} costWithoutPlan={this.state.costWithoutPlan} />\r\n\r\n                <Message message={this.state.errorMessage} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}