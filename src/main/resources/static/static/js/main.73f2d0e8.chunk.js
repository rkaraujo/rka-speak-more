(this["webpackJsonpfale-mais"]=this["webpackJsonpfale-mais"]||[]).push([[0],{17:function(e,t,a){e.exports=a(41)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(16),s=a.n(o),r=a(2),i=a(3),c=a(5),u=a(4),m=a(6),h=a.n(m),d=(a(39),function(){return l.a.createElement("div",{className:"fm-header"},l.a.createElement("h1",{className:"ui huge purple header"},l.a.createElement("i",{className:"horizontally flipped phone icon"}),l.a.createElement("div",{className:"content fm-header-title"},"Fale Mais")))}),D=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={plans:[],selectedPlanId:0},e.onPlanSelect=function(t){var a=t.target.value;e.setState({selectedPlanId:a}),e.props.onPlanSelect(a)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/v1/phone-plans").then((function(t){var a=t.data;e.setState({plans:a}),a.length>0&&(e.setState({selectedPlanId:a[0].id}),e.props.onPlanSelect(a[0].id))})).catch((function(e){return console.error("Error loading plans, error =",e)}))}},{key:"render",value:function(){var e=this.state.plans,t=this.state.selectedPlanId,a=l.a.createElement("option",null,"Carregando...");return e.length>0&&(a=e.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)}))),l.a.createElement("div",{className:"eight wide field"},l.a.createElement("label",null,"Plano:"),l.a.createElement("select",{name:"planId",value:t,onChange:this.onPlanSelect},a))}}]),a}(l.a.Component),p=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={value:""},e.onChangeDDD=function(t){var a=t.target.value;e.setState({value:a}),e.props.onDDDChange(a)},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"ui field"},l.a.createElement("label",{htmlFor:this.props.name},this.props.label,":"),l.a.createElement("input",{type:"text",id:this.props.name,name:this.props.name,value:this.state.value,onChange:this.onChangeDDD,required:!0}))}}]),a}(l.a.Component),g=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={value:""},e.onChangeTime=function(t){var a=t.target.value;e.setState({value:a}),e.props.onTimeChange(a)},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"ui field"},l.a.createElement("label",{htmlFor:"time"},"Tempo da liga\xe7\xe3o (minutos):"),l.a.createElement("input",{type:"text",id:"time",name:"time",value:this.state.value,onChange:this.onChangeTime,required:!0}))}}]),a}(l.a.Component),v=(a(40),function(e){return l.a.createElement("div",{className:"ui segment call-cost-calculator"},l.a.createElement("div",{className:"ui attached message"},l.a.createElement("div",{className:"header"},"Calcule o custo da liga\xe7\xe3o"),l.a.createElement("p",null,"Escolha o plano, o DDD de origem e destino e o tempo da liga\xe7\xe3o para saber o custo")),l.a.createElement("form",{className:"ui attached form segment"+(e.loading?" loading":""),onSubmit:e.onSubmitCallCostCalculator},l.a.createElement(D,{onPlanSelect:e.onPlanSelect}),l.a.createElement("div",{className:"three fields"},l.a.createElement(p,{name:"sourceDDD",label:"DDD Origem",onDDDChange:e.onSourceDDDChange}),l.a.createElement(p,{name:"destinationDDD",label:"DDD Destino",onDDDChange:e.onDestinationDDDChange}),l.a.createElement(g,{onTimeChange:e.onTimeChange})),l.a.createElement("input",{className:"ui blue button",type:"submit",value:"Calcular"})))}),f=function(e){return""!==e?"R$ "+Number(e).toFixed(2).replace(".",","):e},C=function(e){var t=f(e.costWithPlan),a=f(e.costWithoutPlan);return""===t&&""===a?null:l.a.createElement("div",{className:"ui segment center aligned"},l.a.createElement("h2",null,"Custo da Liga\xe7\xe3o"),l.a.createElement("div",{className:"ui centered stackable grid"},l.a.createElement("div",{className:"ui statistic six wide column"},l.a.createElement("div",{className:"value"},t),l.a.createElement("div",{className:"label"},"Com o plano FaleMais")),l.a.createElement("div",{className:"ui statistic six wide column"},l.a.createElement("div",{className:"value"},a),l.a.createElement("div",{className:"label"},"Sem o plano FaleMais"))))},E=function(e){return e.message?l.a.createElement("div",{className:"ui negative message"},e.message):null},b=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={planId:0,sourceDDD:"",destinationDDD:"",time:"",costWithPlan:"",costWithoutPlan:"",loading:!1,errorMessage:""},e.onPlanSelect=function(t){e.setState({planId:t})},e.onSourceDDDChange=function(t){e.setState({sourceDDD:t})},e.onDestinationDDDChange=function(t){e.setState({destinationDDD:t})},e.onTimeChange=function(t){e.setState({time:t})},e.onSubmitCallCostCalculator=function(t){t.preventDefault(),e.setState({costWithPlan:"",costWithoutPlan:"",loading:!0,errorMessage:""}),h.a.get("/v1/phone-call/cost",{params:{planId:e.state.planId,sourceDDD:e.state.sourceDDD,destinationDDD:e.state.destinationDDD,time:e.state.time},timeout:500}).then((function(t){var a=t.data,n=a.costWithPlan,l=a.costWithoutPlan;e.setState({costWithPlan:n,costWithoutPlan:l,loading:!1})})).catch((function(t){var a="Ocorreu um erro";t.response?(a=t.response.data.message,console.error(t.response)):t.message&&(a=t.message,console.error(t.message)),e.setState({loading:!1,errorMessage:a})}))},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"ui container"},l.a.createElement(d,null),l.a.createElement(v,{onPlanSelect:this.onPlanSelect,onSourceDDDChange:this.onSourceDDDChange,onTimeChange:this.onTimeChange,onDestinationDDDChange:this.onDestinationDDDChange,onSubmitCallCostCalculator:this.onSubmitCallCostCalculator,loading:this.state.loading}),l.a.createElement(C,{costWithPlan:this.state.costWithPlan,costWithoutPlan:this.state.costWithoutPlan}),l.a.createElement(E,{message:this.state.errorMessage}))}}]),a}(l.a.Component);s.a.render(l.a.createElement(b,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.73f2d0e8.chunk.js.map